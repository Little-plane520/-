{% extends "admin/admin_index.html" %}
{% block title %}Edit Competition{% endblock %}

{% block body %}
  <h1>编辑竞赛 ({{ competition.comp_name }})</h1>
  <hr>
  <form method="post">

    <div class="form-group">
      <label for="name">竞赛名称</label>
      {{ form.name(class_="form-control", value=competition.comp_name) }}
    </div>
    <div class="form-group">
  <label for="start_time">开始时间</label>
  {{ form.start_time(class_="form-control flatpickr", value=competition.start_time.strftime('%Y-%m-%d %H:%M:%S')) }}
</div>
<div class="form-group">
  <label for="end_time">结束时间</label>
  {{ form.end_time(class_="form-control flatpickr", value=competition.end_time.strftime('%Y-%m-%d %H:%M:%S')) }}
</div>
    <div class="form-group">
      <label for="type">竞赛类型</label>
      {{ form.type(class_="form-control", value=competition.comp_type) }}
    </div>
    <div class="form-group">
      <label for="level">竞赛等级</label>
      {{ form.level(class_="form-control", value=competition.comp_level) }}
    </div>
    <div class="form-group">
      <input type="submit" class="btn btn-primary" value="更新">
      <a href="{{ url_for('admin_competition.index') }}" class="btn btn-secondary">取消</a>
    </div>
  </form>
   <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<script>
  flatpickr('.flatpickr', {
    enableTime: true,
    dateFormat: 'Y-m-d H:i:S'
  });
</script>
{% endblock %}